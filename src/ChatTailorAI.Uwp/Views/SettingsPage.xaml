<Page
    x:Class="ChatTailorAI.Uwp.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="using:ChatTailorAI.Uwp.Behaviors"
    xmlns:chatModels="using:ChatTailorAI.Shared.Models.Chat"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:converters="using:ChatTailorAI.Uwp.Converters"
    xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:i1="using:Microsoft.Xaml.Interactivity"
    xmlns:local="using:ChatTailorAI.Uwp.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:promptModels="using:ChatTailorAI.Shared.Models.Prompts"
    xmlns:sharedModels="using:ChatTailorAI.Shared.Models.Shared"
    muxc:BackdropMaterial.ApplyToRootOrPageBackground="True"
    Loaded="Page_Loaded"
    mc:Ignorable="d">
    <Page.Resources>
        <CollectionViewSource
            x:Key="GroupedItems"
            IsSourceGrouped="True"
            ItemsPath="Items"
            Source="{Binding GroupInfoCollection}" />
        <converters:NullToVisibilityConverter x:Key="NullToVisibilityConverter" />
        <converters:CollectionEmptyToVisibilityConverter x:Key="CollectionEmptyToVisibilityConverter" />

    </Page.Resources>
    <Grid
        Margin="8,4,8,8"
        HorizontalAlignment="Stretch"
        RequestedTheme="Dark">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid
            Grid.Row="0"
            Margin="0,4,0,4"
            HorizontalAlignment="Center"
            Visibility="Collapsed">
            <StackPanel Orientation="Horizontal">
                <TextBlock
                    HorizontalAlignment="Left"
                    FontSize="24"
                    FontWeight="Bold"
                    Text="Settings" />
            </StackPanel>
            <!--<Button
                x:Name="backButton"
                BorderThickness="0"
                Click="backButton_Click"
                CornerRadius="4">
                <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE0A6;" />
            </Button>-->
        </Grid>
        <ScrollViewer
            Grid.Row="1"
            Margin="0,8,0,0"
            HorizontalScrollBarVisibility="Auto">
            <Grid MaxWidth="900" Margin="0,0,12,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid Grid.Row="0">
                    <StackPanel Margin="12,4,12,8" Orientation="Horizontal">
                        <TextBlock
                            HorizontalAlignment="Left"
                            FontSize="24"
                            FontWeight="Bold"
                            Text="Settings" />
                    </StackPanel>
                </Grid>
                <Grid Grid.Row="1">
                    <StackPanel Orientation="Vertical">
                        <StackPanel Margin="12" Orientation="Vertical">
                            <TextBlock FontWeight="Bold" Text="General" />
                            <Grid x:Name="apiKeyGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="OpenAI API Key" />
                                                    <TextBlock Text="Used for requests to chat/image/audio models" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>

                                            <StackPanel
                                                x:Name="apiKeyStackPanel"
                                                Grid.Row="0"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="0,0,8,0"
                                                    VerticalAlignment="Center"
                                                    Text="API Key: " />
                                                <PasswordBox
                                                    x:Name="apiKeyBox"
                                                    Width="400"
                                                    Margin="0,8,8,8"
                                                    HorizontalAlignment="Stretch"
                                                    AutomationProperties.Name="Simple PasswordBox"
                                                    IsPasswordRevealButtonEnabled="False">
                                                    <i1:Interaction.Behaviors>
                                                        <behaviors:PasswordBoxBehavior Password="{Binding Password, Mode=TwoWay}" />
                                                    </i1:Interaction.Behaviors>
                                                </PasswordBox>
                                                <CheckBox
                                                    Name="revealModeCheckBox"
                                                    Checked="RevealModeCheckbox_Changed"
                                                    Content="Show"
                                                    IsChecked="False"
                                                    Unchecked="RevealModeCheckbox_Changed" />
                                            </StackPanel>
                                            <StackPanel
                                                Grid.Row="1"
                                                Margin="12,12,12,0"
                                                HorizontalAlignment="Center"
                                                Orientation="Horizontal">
                                                <HyperlinkButton
                                                    VerticalAlignment="Center"
                                                    Content="Get OpenAI API Key"
                                                    NavigateUri="https://platform.openai.com/account/api-keys" />
                                            </StackPanel>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                            <Grid x:Name="azureApiKeyGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="Azure Speech API Key / Region" />
                                                    <TextBlock Text="Used for Azure Speech services" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>

                                            <StackPanel
                                                x:Name="azureApiKeyStackPanel"
                                                Grid.Row="0"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="0,0,8,0"
                                                    VerticalAlignment="Center"
                                                    Text="API Key: " />
                                                <PasswordBox
                                                    x:Name="azureApiKeyBox"
                                                    Width="400"
                                                    Margin="0,8,8,8"
                                                    HorizontalAlignment="Stretch"
                                                    AutomationProperties.Name="Simple PasswordBox"
                                                    IsPasswordRevealButtonEnabled="False">
                                                    <i1:Interaction.Behaviors>
                                                        <behaviors:PasswordBoxBehavior Password="{Binding AzureSpeechApiKey, Mode=TwoWay}" />
                                                        <core:EventTriggerBehavior EventName="LostFocus">
                                                            <core:InvokeCommandAction Command="{x:Bind ViewModel.TextLostFocusCommand}" />
                                                        </core:EventTriggerBehavior>
                                                    </i1:Interaction.Behaviors>
                                                </PasswordBox>
                                                <CheckBox
                                                    Name="revealModeCheckBox1"
                                                    Checked="RevealModeCheckbox_Changed"
                                                    Content="Show"
                                                    IsChecked="False"
                                                    Unchecked="RevealModeCheckbox_Changed" />
                                            </StackPanel>
                                            <StackPanel
                                                x:Name="azureSeriveRegionStackPanel"
                                                Grid.Row="1"
                                                Margin="0,20,0,0"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="0,0,8,0"
                                                    VerticalAlignment="Center"
                                                    Text="Region Identifier:" />
                                                <TextBox
                                                    x:Name="ServiceRegionTextbox"
                                                    Width="200"
                                                    Margin="0,8,0,0"
                                                    Text="{x:Bind ViewModel.SpeechServiceRegion, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                    TextWrapping="Wrap">
                                                    <i1:Interaction.Behaviors>
                                                        <core:EventTriggerBehavior EventName="LostFocus">
                                                            <core:InvokeCommandAction Command="{x:Bind ViewModel.TextLostFocusCommand}" />
                                                        </core:EventTriggerBehavior>
                                                    </i1:Interaction.Behaviors>
                                                </TextBox>
                                                <HyperlinkButton
                                                    Margin="4,8,0,0"
                                                    VerticalAlignment="Center"
                                                    Content="Region List"
                                                    NavigateUri="https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/regions#:~:text=service%20instance%20in.-,Speech%20service,-The%20following%20regions" />
                                            </StackPanel>
                                            <StackPanel
                                                Grid.Row="2"
                                                Margin="0,24,0,0"
                                                HorizontalAlignment="Center"
                                                Orientation="Vertical">
                                                <HyperlinkButton Content="Sign up for Azure Speech Service" NavigateUri="https://azure.microsoft.com/en-us/products/cognitive-services/speech-services/" />
                                            </StackPanel>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                            <Grid x:Name="elevenLabsApiKeyGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="ElevenLabs API Key" />
                                                    <TextBlock Text="Used for Eleven Labs speech services" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>

                                            <StackPanel
                                                x:Name="elevenLabsApiKeyStackPanel"
                                                Grid.Row="0"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="0,0,8,0"
                                                    VerticalAlignment="Center"
                                                    Text="API Key: " />
                                                <PasswordBox
                                                    x:Name="elevenLabsApiKeyBox"
                                                    Width="400"
                                                    Margin="0,8,8,8"
                                                    HorizontalAlignment="Stretch"
                                                    AutomationProperties.Name="Simple PasswordBox"
                                                    IsPasswordRevealButtonEnabled="False">
                                                    <i1:Interaction.Behaviors>
                                                        <behaviors:PasswordBoxBehavior Password="{Binding ElevenLabsApiKey, Mode=TwoWay}" />
                                                        <core:EventTriggerBehavior EventName="LostFocus">
                                                            <core:InvokeCommandAction Command="{x:Bind ViewModel.TextLostFocusCommand}" />
                                                        </core:EventTriggerBehavior>
                                                    </i1:Interaction.Behaviors>
                                                </PasswordBox>
                                                <CheckBox
                                                    Name="revealModeCheckBox2"
                                                    Checked="RevealModeCheckbox_Changed"
                                                    Content="Show"
                                                    IsChecked="False"
                                                    Unchecked="RevealModeCheckbox_Changed" />
                                            </StackPanel>
                                            <StackPanel
                                                Grid.Row="1"
                                                Margin="12,12,12,0"
                                                HorizontalAlignment="Center"
                                                Orientation="Vertical">
                                                <HyperlinkButton
                                                    HorizontalAlignment="Center"
                                                    Content="Sign up for ElevenLabs"
                                                    NavigateUri="https://elevenlabs.io/pricing" />
                                            </StackPanel>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                            <Grid x:Name="AnthropicApiKeyGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="Anthropic API Key" />
                                                    <TextBlock Text="Used for Claude chat models" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>

                                            <StackPanel
                                                x:Name="AnthropicApiKeyStackPanel"
                                                Grid.Row="0"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="0,0,8,0"
                                                    VerticalAlignment="Center"
                                                    Text="API Key: " />
                                                <PasswordBox
                                                    x:Name="AnthropicApiKeyBox"
                                                    Width="400"
                                                    Margin="0,8,8,8"
                                                    HorizontalAlignment="Stretch"
                                                    AutomationProperties.Name="Simple PasswordBox"
                                                    IsPasswordRevealButtonEnabled="False">
                                                    <i1:Interaction.Behaviors>
                                                        <behaviors:PasswordBoxBehavior Password="{Binding AnthropicApiKey, Mode=TwoWay}" />
                                                        <core:EventTriggerBehavior EventName="LostFocus">
                                                            <core:InvokeCommandAction Command="{x:Bind ViewModel.TextLostFocusCommand}" />
                                                        </core:EventTriggerBehavior>
                                                    </i1:Interaction.Behaviors>
                                                </PasswordBox>
                                                <CheckBox
                                                    Name="revealModeCheckBox3"
                                                    Checked="RevealModeCheckbox_Changed"
                                                    Content="Show"
                                                    IsChecked="False"
                                                    Unchecked="RevealModeCheckbox_Changed" />
                                            </StackPanel>
                                            <StackPanel
                                                Grid.Row="1"
                                                Margin="12,12,12,0"
                                                HorizontalAlignment="Center"
                                                Orientation="Vertical">
                                                <HyperlinkButton
                                                    HorizontalAlignment="Center"
                                                    Content="Get Anthropic API Key"
                                                    NavigateUri="https://docs.anthropic.com/claude/docs/getting-access-to-claude" />
                                            </StackPanel>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                            <Grid x:Name="GoogleAIApiKeyGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="Google AI API Key" />
                                                    <TextBlock Text="Used for Gemini models" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>

                                            <StackPanel
                                                x:Name="GoogleAIApiKeyStackPanel"
                                                Grid.Row="0"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="0,0,8,0"
                                                    VerticalAlignment="Center"
                                                    Text="API Key: " />
                                                <PasswordBox
                                                    x:Name="GoogleAIApiKeyBox"
                                                    Width="400"
                                                    Margin="0,8,8,8"
                                                    HorizontalAlignment="Stretch"
                                                    AutomationProperties.Name="Simple PasswordBox"
                                                    IsPasswordRevealButtonEnabled="False">
                                                    <i1:Interaction.Behaviors>
                                                        <behaviors:PasswordBoxBehavior Password="{Binding GoogleAIApiKey, Mode=TwoWay}" />
                                                        <core:EventTriggerBehavior EventName="LostFocus">
                                                            <core:InvokeCommandAction Command="{x:Bind ViewModel.TextLostFocusCommand}" />
                                                        </core:EventTriggerBehavior>
                                                    </i1:Interaction.Behaviors>
                                                </PasswordBox>
                                                <CheckBox
                                                    Name="revealModeCheckBox4"
                                                    Checked="RevealModeCheckbox_Changed"
                                                    Content="Show"
                                                    IsChecked="False"
                                                    Unchecked="RevealModeCheckbox_Changed" />
                                            </StackPanel>
                                            <StackPanel
                                                Grid.Row="1"
                                                Margin="12,12,12,0"
                                                HorizontalAlignment="Center"
                                                Orientation="Horizontal">
                                                <HyperlinkButton
                                                    VerticalAlignment="Center"
                                                    Content="Get GoogleAI API Key"
                                                    NavigateUri="https://aistudio.google.com/app/apikey" />
                                            </StackPanel>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                            <Grid x:Name="LMStudioSettingsGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="LMStudio Settings" />
                                                    <TextBlock Text="Used for connecting to local models through LMStudio" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>

                                            <StackPanel
                                                x:Name="LMStudioSettingsStackPanel"
                                                Grid.Row="0"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="0,0,8,0"
                                                    VerticalAlignment="Center"
                                                    Text="Server url: " />
                                                <TextBox
                                                    x:Name="LMStudioServerUrlBox"
                                                    Width="400"
                                                    Margin="0,8,8,8"
                                                    HorizontalAlignment="Stretch"
                                                    PlaceholderText="e.g., http://localhost:1234/"
                                                    Text="{x:Bind ViewModel.LMStudioServerUrl, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                    <i1:Interaction.Behaviors>
                                                        <core:EventTriggerBehavior EventName="LostFocus">
                                                            <core:InvokeCommandAction Command="{x:Bind ViewModel.TextLostFocusCommand}" />
                                                        </core:EventTriggerBehavior>
                                                    </i1:Interaction.Behaviors>
                                                </TextBox>
                                            </StackPanel>
                                            <StackPanel Grid.Row="1">
                                                <TextBlock
                                                    Margin="0,12,0,0"
                                                    HorizontalAlignment="Center"
                                                    IsTextSelectionEnabled="True"
                                                    Text="Provide the LMStudio server url and load a local model in LMStudio to start"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>
                                            <StackPanel
                                                Grid.Row="2"
                                                Margin="12,12,12,0"
                                                HorizontalAlignment="Center"
                                                Orientation="Horizontal">
                                                <HyperlinkButton
                                                    VerticalAlignment="Center"
                                                    Content="Get LMStudio"
                                                    NavigateUri="https://lmstudio.ai/" />
                                            </StackPanel>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                        </StackPanel>
                        <StackPanel Margin="12" Orientation="Vertical">
                            <TextBlock FontWeight="Bold" Text="Chat" />

                            <Border
                                Margin="0,8,0,0"
                                BorderThickness="0.5"
                                CornerRadius="4">
                                <Grid
                                    x:Name="modelGrid"
                                    Margin="0,0,0,0"
                                    Background="#08FFFFFF"
                                    CornerRadius="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="30" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1" Margin="8">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            Grid.Row="0"
                                            FontWeight="Bold"
                                            Text="Model" />
                                        <TextBlock Grid.Row="1" Text="Model to use when in instant chat mode" />
                                        <HyperlinkButton
                                            Grid.Row="2"
                                            Margin="0,4,0,0"
                                            Content="Prices per model"
                                            NavigateUri="https://openai.com/pricing#:~:text=is%2035%20tokens.-,GPT%2D4,-With%20broad%20general" />
                                    </Grid>
                                    <Grid Grid.Column="2" VerticalAlignment="Center">
                                        <ComboBox
                                            x:Name="modelComboBox"
                                            Margin="12,12,16,12"
                                            HorizontalAlignment="Right"
                                            BorderThickness="0.5"
                                            CornerRadius="4"
                                            ItemsSource="{Binding Models}"
                                            SelectedItem="{Binding SelectedModel, Mode=TwoWay}" />
                                    </Grid>
                                </Grid>
                            </Border>
                            <Grid x:Name="systemMessageGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="System Message" />
                                                    <TextBlock Text="Sets the default instructions for chats / assistants" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>

                                            <Grid
                                                Grid.Row="0"
                                                MaxHeight="800"
                                                HorizontalAlignment="Stretch">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition />
                                                    <RowDefinition />
                                                </Grid.RowDefinitions>
                                                <Grid Grid.Row="0" Margin="0,0,0,0">
                                                    <StackPanel Orientation="Vertical">
                                                        <TextBlock
                                                            HorizontalAlignment="Center"
                                                            Text="Set the default instructions to use when creating new chats or assistants"
                                                            TextWrapping="Wrap" />
                                                        <!--<TextBlock
                                                            Margin="0,12,0,0"
                                                            HorizontalAlignment="Left"
                                                            FontWeight="Bold"
                                                            Text="Current Default:" />-->
                                                    </StackPanel>
                                                    <!--<ComboBox
                                                        x:Name="promptsComboBox"
                                                        Header="Default Prompt:"
                                                        ItemsSource="{x:Bind ViewModel.Prompts, Mode=OneWay}">
                                                        <ComboBox.ItemTemplate>
                                                            <DataTemplate>
                                                                <StackPanel Orientation="Vertical">
                                                                    <TextBlock
                                                                        Margin="4"
                                                                        FontWeight="Bold"
                                                                        Text="{Binding Title}" />
                                                                    <TextBlock
                                                                        Margin="4"
                                                                        MaxLines="2"
                                                                        Text="{Binding Content}"
                                                                        TextTrimming="CharacterEllipsis"
                                                                        TextWrapping="Wrap" />
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </ComboBox.ItemTemplate>
                                                    </ComboBox>-->
                                                </Grid>
                                                <Grid Grid.Row="1" Visibility="Visible">
                                                    <StackPanel Margin="18,18,18,4" Orientation="Vertical">
                                                        <TextBlock
                                                            Margin="0,0,0,0"
                                                            HorizontalAlignment="Center"
                                                            FontSize="18"
                                                            FontWeight="Bold"
                                                            TextDecorations="Underline">
                                                            Default Prompt
                                                        </TextBlock>
                                                        <TextBlock Margin="0,0,0,8">
                                                            Title:
                                                        </TextBlock>
                                                        <TextBox
                                                            x:Name="PromptTitleTextBox"
                                                            Grid.Column="0"
                                                            Width="600"
                                                            Margin="0,0,0,8"
                                                            HorizontalAlignment="Stretch"
                                                            AcceptsReturn="True"
                                                            AutomationProperties.Name="multi-line TextBox"
                                                            BorderThickness="0"
                                                            CornerRadius="4"
                                                            Foreground="White"
                                                            IsEnabled="False"
                                                            PlaceholderForeground="Gray"
                                                            PlaceholderText="No default prompt set"
                                                            Text="{x:Bind ViewModel.PromptTitle, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                            TextWrapping="Wrap">
                                                            <i1:Interaction.Behaviors>
                                                                <core:EventTriggerBehavior EventName="LostFocus">
                                                                    <core:InvokeCommandAction Command="{x:Bind ViewModel.TextLostFocusCommand}" />
                                                                </core:EventTriggerBehavior>
                                                            </i1:Interaction.Behaviors>
                                                        </TextBox>

                                                        <TextBlock Margin="0,0,0,8">
                                                            Content:
                                                        </TextBlock>
                                                        <TextBox
                                                            x:Name="SystemMessageTextBox"
                                                            Width="600"
                                                            HorizontalAlignment="Stretch"
                                                            AcceptsReturn="True"
                                                            AutomationProperties.Name="multi-line TextBox"
                                                            BorderThickness="0"
                                                            CornerRadius="4"
                                                            Foreground="White"
                                                            IsEnabled="False"
                                                            PlaceholderForeground="Gray"
                                                            PlaceholderText="No default prompt set"
                                                            Text="{x:Bind ViewModel.SystemMessage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                            TextWrapping="Wrap">
                                                            <i1:Interaction.Behaviors>
                                                                <core:EventTriggerBehavior EventName="LostFocus">
                                                                    <core:InvokeCommandAction Command="{x:Bind ViewModel.TextLostFocusCommand}" />
                                                                </core:EventTriggerBehavior>
                                                            </i1:Interaction.Behaviors>
                                                        </TextBox>

                                                    </StackPanel>
                                                </Grid>

                                            </Grid>
                                            <Grid
                                                Grid.Row="1"
                                                Margin="0,12,0,0"
                                                HorizontalAlignment="Stretch">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition />
                                                    <RowDefinition />
                                                    <RowDefinition />
                                                </Grid.RowDefinitions>
                                                <StackPanel
                                                    Grid.Row="0"
                                                    Orientation="Horizontal"
                                                    Visibility="Collapsed">
                                                    <Button
                                                        Margin="0,0,8,0"
                                                        Command="{x:Bind ViewModel.SavePromptCommand}"
                                                        Content="Save to List" />
                                                    <Button
                                                        Margin="0,0,8,0"
                                                        Command="{x:Bind ViewModel.ClearPromptCommand}"
                                                        Content="Clear" />
                                                </StackPanel>
                                                <StackPanel
                                                    Grid.Row="1"
                                                    Margin="0,0,12,0"
                                                    HorizontalAlignment="Center"
                                                    Orientation="Horizontal">
                                                    <Button
                                                        Margin="0,0,8,0"
                                                        HorizontalAlignment="Center"
                                                        Command="{x:Bind ViewModel.SetSelectedPromptCommand}"
                                                        Content="Set Selected Prompt as Default" />
                                                    <Button Command="{x:Bind ViewModel.ClearPromptCommand}" Content="Clear Default" />
                                                    <Button
                                                        x:Name="DeletePromptButton"
                                                        Margin="0,0,8,0"
                                                        Content="Delete Selected"
                                                        Visibility="Collapsed">
                                                        <Button.Flyout>
                                                            <Flyout>
                                                                <StackPanel Orientation="Vertical">
                                                                    <TextBlock
                                                                        FontWeight="Bold"
                                                                        Text="Are you sure you wish to delete the selected prompt?"
                                                                        TextWrapping="Wrap" />
                                                                    <StackPanel Margin="0,8,0,0" Orientation="Horizontal">
                                                                        <Button
                                                                            Margin="0,8,8,4"
                                                                            Click="DeletePromptButton_Click"
                                                                            Content="Yes, delete prompt" />
                                                                        <Button
                                                                            Margin="0,8,8,4"
                                                                            Click="OnNoClick"
                                                                            Content="Cancel" />
                                                                    </StackPanel>
                                                                </StackPanel>
                                                            </Flyout>
                                                        </Button.Flyout>
                                                    </Button>
                                                    <Button
                                                        x:Name="DeletePromptsButton"
                                                        Margin="0,0,8,0"
                                                        Content="Delete All"
                                                        Visibility="Collapsed">
                                                        <Button.Flyout>
                                                            <Flyout>
                                                                <StackPanel Orientation="Vertical">
                                                                    <TextBlock FontWeight="Bold" Text="Are you sure you wish to delete all prompts?" />
                                                                    <StackPanel Margin="0,8,0,0" Orientation="Horizontal">
                                                                        <Button
                                                                            Margin="0,8,8,4"
                                                                            Click="DeletePromptsButton_Click"
                                                                            Content="Yes, delete prompts" />
                                                                        <Button
                                                                            Margin="0,8,8,4"
                                                                            Click="OnNo2Click"
                                                                            Content="Cancel" />
                                                                    </StackPanel>
                                                                </StackPanel>
                                                            </Flyout>
                                                        </Button.Flyout>
                                                    </Button>
                                                </StackPanel>
                                                <GridView
                                                    x:Name="BasicGridView"
                                                    Grid.Row="2"
                                                    MaxHeight="450"
                                                    Margin="0,12,0,0"
                                                    Padding="12"
                                                    HorizontalAlignment="Center"
                                                    IsItemClickEnabled="True"
                                                    ItemsSource="{x:Bind ViewModel.Prompts, Mode=OneWay}"
                                                    SelectionMode="Single">
                                                    <i1:Interaction.Behaviors>
                                                        <behaviors:SelectedItemBehavior SelectedItem="{x:Bind ViewModel.SelectedPrompt, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                    </i1:Interaction.Behaviors>
                                                    <GridView.ItemContainerStyle>
                                                        <Style BasedOn="{StaticResource DefaultGridViewItemStyle}" TargetType="GridViewItem">
                                                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                                            <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                                        </Style>
                                                    </GridView.ItemContainerStyle>
                                                    <GridView.ItemsPanel>
                                                        <ItemsPanelTemplate>
                                                            <controls:StaggeredPanel
                                                                HorizontalAlignment="Center"
                                                                ColumnSpacing="2"
                                                                DesiredColumnWidth="300"
                                                                RowSpacing="4" />
                                                        </ItemsPanelTemplate>
                                                    </GridView.ItemsPanel>
                                                    <GridView.ItemTemplate>
                                                        <DataTemplate x:DataType="promptModels:Prompt">
                                                            <Border
                                                                VerticalAlignment="Stretch"
                                                                BorderBrush="Gray"
                                                                BorderThickness="0.5"
                                                                CornerRadius="4">
                                                                <Grid Margin="12" VerticalAlignment="Stretch">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="Auto" />
                                                                    </Grid.RowDefinitions>
                                                                    <Grid Grid.Row="0">
                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition />
                                                                            <RowDefinition />
                                                                        </Grid.RowDefinitions>
                                                                        <TextBlock
                                                                            Grid.Row="0"
                                                                            Margin="0,0,0,8"
                                                                            FontSize="18"
                                                                            FontWeight="Bold"
                                                                            Text="{Binding Title}"
                                                                            TextWrapping="Wrap"
                                                                            Visibility="{Binding Title, Mode=OneWay, Converter={StaticResource NullToVisibilityConverter}}" />
                                                                        <TextBlock
                                                                            Grid.Row="1"
                                                                            Margin="0,0,0,0"
                                                                            MaxLines="10"
                                                                            Text="{Binding Content}"
                                                                            TextTrimming="CharacterEllipsis"
                                                                            TextWrapping="Wrap" />
                                                                    </Grid>
                                                                    <!--<StackPanel
                                                                        Grid.Row="0"
                                                                        HorizontalAlignment="Stretch"
                                                                        Orientation="Vertical">
                                                                        <TextBlock
                                                                            Margin="0,0,0,8"
                                                                            FontSize="18"
                                                                            FontWeight="Bold"
                                                                            Text="{Binding Title}"
                                                                            TextWrapping="Wrap"
                                                                            Visibility="{Binding Title, Mode=OneWay, Converter={StaticResource NullToVisibilityConverter}}" />
                                                                        <TextBlock
                                                                            Margin="0,0,0,0"
                                                                            Text="{Binding Content}"
                                                                            TextWrapping="Wrap" />

                                                                    -->
                                                                    <!--<Button
                                                                            HorizontalAlignment="Center"
                                                                            VerticalAlignment="Bottom"
                                                                            Content="Set as Message" />-->
                                                                    <!--
                                                                    </StackPanel>-->
                                                                </Grid>
                                                            </Border>

                                                        </DataTemplate>
                                                    </GridView.ItemTemplate>

                                                </GridView>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                            <Grid x:Name="paramsGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock
                                                        FontWeight="Bold"
                                                        Text="Additional Request Options"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="Parameters used in request to models (max_tokens, etc.)" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid HorizontalAlignment="Stretch">
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <Grid Grid.Row="0" HorizontalAlignment="Stretch">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition />
                                                    <RowDefinition />
                                                </Grid.RowDefinitions>
                                                <HyperlinkButton
                                                    Grid.Row="0"
                                                    HorizontalAlignment="Center"
                                                    Content="Parameter documentation"
                                                    NavigateUri="https://platform.openai.com/docs/api-reference/chat" />
                                                <StackPanel
                                                    x:Name="paramsStackPanel"
                                                    Grid.Row="1"
                                                    HorizontalAlignment="Stretch"
                                                    Orientation="Horizontal">

                                                    <muxc:NumberBox
                                                        x:Name="NumberBoxMaxTokens"
                                                        Grid.Column="0"
                                                        MaxWidth="200"
                                                        Margin="8"
                                                        HorizontalAlignment="Left"
                                                        Header="Max Tokens:"
                                                        SmallChange="1"
                                                        SpinButtonPlacementMode="Inline"
                                                        Value="{x:Bind ViewModel.MaxTokens, Mode=TwoWay}" />
                                                    <muxc:NumberBox
                                                        x:Name="NumberBoxTemperature"
                                                        Grid.Column="0"
                                                        MaxWidth="200"
                                                        Margin="8"
                                                        HorizontalAlignment="Left"
                                                        Header="Temperature:"
                                                        Maximum="2"
                                                        Minimum="0"
                                                        SmallChange="0.1"
                                                        SpinButtonPlacementMode="Inline"
                                                        Value="{x:Bind ViewModel.Temperature, Mode=TwoWay}">
                                                        <i1:Interaction.Behaviors>
                                                            <behaviors:NumberBoxRoundBehavior DecimalPlaces="2" />
                                                        </i1:Interaction.Behaviors>
                                                    </muxc:NumberBox>
                                                    <muxc:NumberBox
                                                        x:Name="NumberBoxFPenalty"
                                                        Grid.Column="0"
                                                        MaxWidth="200"
                                                        Margin="8"
                                                        HorizontalAlignment="Left"
                                                        Header="Frequency Penalty:"
                                                        Maximum="2.0"
                                                        Minimum="-2.0"
                                                        SmallChange="0.01"
                                                        SpinButtonPlacementMode="Inline"
                                                        Value="{x:Bind ViewModel.FrequencyPenalty, Mode=TwoWay}">
                                                        <i1:Interaction.Behaviors>
                                                            <behaviors:NumberBoxRoundBehavior DecimalPlaces="2" />
                                                        </i1:Interaction.Behaviors>
                                                    </muxc:NumberBox>
                                                    <muxc:NumberBox
                                                        x:Name="NumberBoxPPenalty"
                                                        Grid.Column="0"
                                                        MaxWidth="200"
                                                        Margin="8"
                                                        HorizontalAlignment="Left"
                                                        Header="Presence Penalty:"
                                                        Maximum="2.0"
                                                        Minimum="-2.0"
                                                        SmallChange="0.01"
                                                        SpinButtonPlacementMode="Inline"
                                                        Value="{x:Bind ViewModel.PresencePenalty, Mode=TwoWay}">
                                                        <i1:Interaction.Behaviors>
                                                            <behaviors:NumberBoxRoundBehavior DecimalPlaces="2" />
                                                        </i1:Interaction.Behaviors>
                                                    </muxc:NumberBox>
                                                    <!--<muxc:NumberBox
                                                        Grid.Column="0"
                                                        Margin="8"
                                                        HorizontalAlignment="Left"
                                                        Header="Presence Penalty:"
                                                        LargeChange="100"
                                                        SmallChange="10"
                                                        SpinButtonPlacementMode="Inline"
                                                        Value="1" />-->
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>

                            <Grid
                                x:Name="streamRepliesGrid"
                                Margin="0,8,0,0"
                                Background="#08FFFFFF"
                                CornerRadius="4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="1" Margin="8">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        FontWeight="Bold"
                                        Text="Stream Replies" />
                                    <TextBlock
                                        Grid.Row="1"
                                        Text="Enable streaming replies similar to ChatGPT"
                                        TextWrapping="Wrap" />
                                </Grid>
                                <Grid Grid.Column="2">
                                    <ToggleSwitch
                                        MinWidth="0"
                                        Margin="0,0,16,0"
                                        HorizontalAlignment="Right"
                                        AutomationProperties.Name="stream ToggleSwitch"
                                        IsOn="{x:Bind ViewModel.IsStreamingEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        OffContent="Off"
                                        OnContent="On" />
                                </Grid>
                            </Grid>

                            <Grid
                                x:Name="continuousConvoGrid"
                                Margin="0,8,0,0"
                                Background="#08FFFFFF"
                                CornerRadius="4"
                                Visibility="Collapsed">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="1" Margin="8">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        FontWeight="Bold"
                                        Text="Continuous Conversation (Beta)" />
                                    <TextBlock Grid.Row="1" Text="Removes context from the start of the conversation to keep it going" />
                                    <TextBlock Grid.Row="2" Text="Highly likely to forget context quickly when on, expect issues while in beta" />
                                </Grid>
                                <Grid Grid.Column="2">
                                    <ToggleSwitch
                                        MinWidth="0"
                                        Margin="0,0,16,0"
                                        HorizontalAlignment="Right"
                                        AutomationProperties.Name="stream ToggleSwitch"
                                        IsOn="{x:Bind ViewModel.IsContinuous, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        OffContent="Off"
                                        OnContent="On" />
                                </Grid>
                            </Grid>
                        </StackPanel>

                        <StackPanel Margin="12" Orientation="Vertical">
                            <TextBlock FontWeight="Bold" Text="Images" />
                            <Border
                                Margin="0,8,0,0"
                                BorderThickness="0.5"
                                CornerRadius="4">
                                <Grid
                                    x:Name="imageModelGrid"
                                    Margin="0,0,0,0"
                                    Background="#08FFFFFF"
                                    CornerRadius="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="30" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1" Margin="8">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            Grid.Row="0"
                                            FontWeight="Bold"
                                            Text="Model" />
                                        <TextBlock Grid.Row="1" Text="Model to use when in image mode" />
                                    </Grid>
                                    <Grid Grid.Column="2" VerticalAlignment="Center">
                                        <ComboBox
                                            x:Name="imageModelComboBox"
                                            Margin="12,12,16,12"
                                            HorizontalAlignment="Right"
                                            BorderThickness="0.5"
                                            CornerRadius="4"
                                            ItemsSource="{Binding ImageModels}"
                                            SelectedItem="{Binding SelectedImageModel, Mode=TwoWay}" />
                                    </Grid>
                                </Grid>
                            </Border>
                            <Border
                                Margin="0,8,0,0"
                                BorderThickness="0.5"
                                CornerRadius="4">
                                <Grid
                                    x:Name="imageQualityGrid"
                                    Margin="0,0,0,0"
                                    Background="#08FFFFFF"
                                    CornerRadius="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="30" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1" Margin="8">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            Grid.Row="0"
                                            FontWeight="Bold"
                                            Text="Image Quality (Dall-e-3 only)" />
                                        <TextBlock
                                            Grid.Row="1"
                                            Text="The quality of the image (HD or standard)"
                                            TextWrapping="Wrap" />
                                    </Grid>
                                    <Grid Grid.Column="2">
                                        <ComboBox
                                            x:Name="imageQualityComboBox"
                                            Margin="12,12,16,12"
                                            HorizontalAlignment="Right"
                                            BorderThickness="0.5"
                                            CornerRadius="4"
                                            ItemsSource="{Binding ImageQualityOptions}"
                                            SelectedItem="{Binding SelectedImageQuality, Mode=TwoWay}" />
                                    </Grid>
                                </Grid>
                            </Border>

                            <Border
                                Margin="0,8,0,0"
                                BorderThickness="0.5"
                                CornerRadius="4">
                                <Grid
                                    x:Name="numberOfImagesGrid"
                                    Margin="0,0,0,0"
                                    Background="#08FFFFFF"
                                    CornerRadius="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="30" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1" Margin="8">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            Grid.Row="0"
                                            FontWeight="Bold"
                                            Text="Number of Images (Dall-e-2 only)" />
                                        <TextBlock
                                            Grid.Row="1"
                                            Text="The amount to generate per prompt (1-10)"
                                            TextWrapping="Wrap" />
                                    </Grid>
                                    <Grid Grid.Column="2">
                                        <ComboBox
                                            x:Name="imageNumComboBox"
                                            Margin="12,12,16,12"
                                            HorizontalAlignment="Right"
                                            BorderThickness="0.5"
                                            CornerRadius="4"
                                            ItemsSource="{Binding ImageCountOptions}"
                                            SelectedItem="{Binding SelectedNumberOfImages, Mode=TwoWay}" />
                                    </Grid>
                                </Grid>
                            </Border>

                            <Border
                                Margin="0,8,0,0"
                                BorderThickness="0.5"
                                CornerRadius="4">
                                <Grid
                                    x:Name="imageSizeGrid"
                                    Margin="0,0,0,0"
                                    Background="#08FFFFFF"
                                    CornerRadius="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="30" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1" Margin="8">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                            <RowDefinition />
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            Grid.Row="0"
                                            FontWeight="Bold"
                                            Text="Size" />
                                        <TextBlock Grid.Row="1" Text="The size of the image to generate" />
                                        <HyperlinkButton
                                            Grid.Row="2"
                                            Margin="0,4,0,0"
                                            Content="Prices per image size"
                                            NavigateUri="https://openai.com/pricing#:~:text=Other%20models-,Image%20models,-Build%20DALL%C2%B7E%20directly" />
                                    </Grid>
                                    <Grid Grid.Column="2" VerticalAlignment="Center">
                                        <ComboBox
                                            x:Name="imageSizeComboBox"
                                            Margin="12,12,16,12"
                                            HorizontalAlignment="Right"
                                            BorderThickness="0.5"
                                            CornerRadius="4"
                                            ItemsSource="{Binding ImageSizeOptions}"
                                            SelectedItem="{Binding SelectedImageSize, Mode=TwoWay}" />
                                    </Grid>
                                </Grid>
                            </Border>
                        </StackPanel>

                        <StackPanel Margin="12" Orientation="Vertical">
                            <TextBlock FontWeight="Bold" Text="Speech" />
                            <Grid
                                x:Name="speechEnabledGrid"
                                Margin="0,8,0,0"
                                Background="#08FFFFFF"
                                CornerRadius="4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="1" Margin="8">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        FontWeight="Bold"
                                        Text="Text-To-Speech" />
                                    <TextBlock
                                        Grid.Row="1"
                                        Text="Enable voice which speaks as the assistant"
                                        TextWrapping="Wrap" />
                                    <TextBlock
                                        Grid.Row="2"
                                        FontStyle="Italic"
                                        Text="* Requires Stream Replies to be disabled"
                                        TextWrapping="Wrap" />
                                </Grid>
                                <Grid Grid.Column="2">
                                    <ToggleSwitch
                                        MinWidth="0"
                                        Margin="0,0,16,0"
                                        HorizontalAlignment="Right"
                                        AutomationProperties.Name="stream ToggleSwitch"
                                        IsOn="{x:Bind ViewModel.IsSpeechEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        OffContent="Off"
                                        OnContent="On" />
                                </Grid>
                            </Grid>
                            <Grid
                                x:Name="speechProviderGrid"
                                Margin="0,8,0,0"
                                Background="#08FFFFFF"
                                CornerRadius="4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="1" Margin="8">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        FontWeight="Bold"
                                        Text="Speech Provider" />
                                    <TextBlock
                                        Grid.Row="1"
                                        Text="Which provider to select voices from"
                                        TextWrapping="Wrap" />
                                </Grid>
                                <Grid Grid.Column="2">
                                    <ComboBox
                                        x:Name="voiceNameComboBox"
                                        Margin="12,12,16,12"
                                        HorizontalAlignment="Right"
                                        BorderThickness="0.5"
                                        CornerRadius="4"
                                        ItemsSource="{Binding SpeechProviders}"
                                        SelectedItem="{Binding SelectedSpeechProvider, Mode=TwoWay}" />
                                </Grid>
                            </Grid>
                            <Grid
                                x:Name="speechModelsGrid"
                                Margin="0,8,0,0"
                                Background="#08FFFFFF"
                                CornerRadius="4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="1" Margin="8">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        FontWeight="Bold"
                                        Text="Speech Models" />
                                    <TextBlock
                                        Grid.Row="1"
                                        Text="Model used for speech synthesis"
                                        TextWrapping="Wrap" />
                                </Grid>
                                <Grid Grid.Column="2">
                                    <ComboBox
                                        x:Name="speechModelsComboBox"
                                        Margin="12,12,16,12"
                                        HorizontalAlignment="Right"
                                        BorderThickness="0.5"
                                        CornerRadius="4"
                                        ItemsSource="{Binding SpeechModels}"
                                        SelectedItem="{Binding SelectedSpeechModel, Mode=TwoWay}" />
                                </Grid>
                            </Grid>
                            <Border
                                Margin="0,8,0,0"
                                BorderThickness="0.5"
                                CornerRadius="4">
                                <Grid
                                    x:Name="speechVoiceGrid"
                                    Margin="0,0,0,0"
                                    Background="#08FFFFFF"
                                    CornerRadius="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="30" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1" Margin="8">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            Grid.Row="0"
                                            FontWeight="Bold"
                                            Text="Voice Name" />
                                        <TextBlock
                                            Grid.Row="1"
                                            Text="The name of the voice to use"
                                            TextWrapping="Wrap" />
                                        <TextBlock
                                            Grid.Row="2"
                                            FontStyle="Italic"
                                            Text="* Voices are AI generated"
                                            TextWrapping="Wrap" />
                                    </Grid>
                                    <Grid Grid.Column="2">
                                        <ComboBox
                                            x:Name="voiceProviderComboBox"
                                            Margin="12,12,16,12"
                                            HorizontalAlignment="Right"
                                            BorderThickness="0.5"
                                            CornerRadius="4"
                                            ItemsSource="{Binding VoiceNames}"
                                            SelectedItem="{Binding SelectedVoiceName, Mode=TwoWay}" />
                                    </Grid>
                                </Grid>
                            </Border>
                            <Grid
                                x:Name="speechToTextEnabledGrid"
                                Margin="0,8,0,0"
                                Background="#08FFFFFF"
                                CornerRadius="4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="1" Margin="8">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        FontWeight="Bold"
                                        Text="Speech-To-Text" />
                                    <TextBlock
                                        Grid.Row="1"
                                        Text="Enable to use your microphone for speech"
                                        TextWrapping="Wrap" />
                                </Grid>
                                <Grid Grid.Column="2">
                                    <ToggleSwitch
                                        MinWidth="0"
                                        Margin="0,0,16,0"
                                        HorizontalAlignment="Right"
                                        AutomationProperties.Name="stream ToggleSwitch"
                                        IsOn="{x:Bind ViewModel.IsSpeechToTextEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        OffContent="Off"
                                        OnContent="On" />
                                </Grid>
                            </Grid>
                        </StackPanel>
                        <StackPanel Margin="12" Orientation="Vertical">
                            <TextBlock FontWeight="Bold" Text="Functions - Beta" />
                            <Grid
                                x:Name="functionsEnabledGrid"
                                Margin="0,8,0,0"
                                Background="#08FFFFFF"
                                CornerRadius="4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="1" Margin="8">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        FontWeight="Bold"
                                        Text="Function Calling" />
                                    <TextBlock
                                        Grid.Row="1"
                                        Text="Enable function calling in the API requests"
                                        TextWrapping="Wrap" />
                                    <TextBlock
                                        Grid.Row="2"
                                        Text="*Model may hallucinate more, disable when done"
                                        TextWrapping="Wrap" />
                                </Grid>
                                <Grid Grid.Column="2">
                                    <ToggleSwitch
                                        MinWidth="0"
                                        Margin="0,0,16,0"
                                        HorizontalAlignment="Right"
                                        AutomationProperties.Name="stream ToggleSwitch"
                                        IsOn="{x:Bind ViewModel.FunctionsEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        OffContent="Off"
                                        OnContent="On" />
                                </Grid>
                            </Grid>
                            <Grid x:Name="functionsListGrid" Margin="0,8,0,0">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="Function List" />
                                                    <TextBlock Text="Predefined set of functions to enable" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <Grid Grid.Row="0">
                                                <ListView
                                                    x:Name="functionsListView"
                                                    Width="600"
                                                    ItemsSource="{Binding Source={StaticResource GroupedItems}}"
                                                    Loaded="functionsListView_Loaded"
                                                    SelectionMode="Multiple">
                                                    <i1:Interaction.Behaviors>
                                                        <behaviors:FunctionListItemSelectedItemsBehavior SelectedItems="{Binding SelectedFunctions, Mode=TwoWay}" />
                                                    </i1:Interaction.Behaviors>
                                                    <ListView.GroupStyle>
                                                        <GroupStyle>
                                                            <GroupStyle.HeaderTemplate>
                                                                <DataTemplate x:DataType="sharedModels:FunctionListGroupInfo">
                                                                    <TextBlock
                                                                        FontSize="20"
                                                                        FontWeight="Bold"
                                                                        Text="{Binding Header}" />
                                                                </DataTemplate>
                                                            </GroupStyle.HeaderTemplate>
                                                        </GroupStyle>
                                                    </ListView.GroupStyle>
                                                    <ListView.ItemTemplate>
                                                        <DataTemplate x:DataType="sharedModels:FunctionListItem">
                                                            <TextBlock Text="{Binding Key}" />
                                                        </DataTemplate>
                                                    </ListView.ItemTemplate>
                                                    <!--  TOOD: Figure out how to default to WinUI2 list view item  -->
                                                    <!--<ListView.ItemContainerStyle>
                                                        <Style TargetType="ListViewItem">
                                                            <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}" />
                                                        </Style>
                                                    </ListView.ItemContainerStyle>-->
                                                </ListView>
                                            </Grid>

                                            <StackPanel
                                                Grid.Row="1"
                                                Margin="12"
                                                HorizontalAlignment="Center"
                                                Orientation="Horizontal" />
                                            <StackPanel Grid.Row="2" HorizontalAlignment="Center" />
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                        </StackPanel>

                        <StackPanel Margin="12" Orientation="Vertical">
                            <TextBlock FontWeight="Bold" Text="Help" />
                            <Grid x:Name="featureListGrid" Margin="0,8,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="Feature List" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid
                                            x:Name="featuresGrid"
                                            Width="900"
                                            HorizontalAlignment="Left">
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <Grid Grid.Row="0" HorizontalAlignment="Center">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock Text="• Change between chat/image generation modes" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Manually control messages sent as context to the model" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Manually set the system message for the model" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Change request parameters such as max tokens, temperature, etc." TextWrapping="Wrap" />
                                                    <TextBlock Text="• Picture-in-picture mode" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Export chat and import chats following a specific format" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Enable or disable streaming replies for non-assistant conversations" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Set the number of images and size to generate" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Multiple app instances for multiple conversations" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Delete message, copy message, copy message to prompt options through context menu" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Save generated images to a selected folder or copy their urls" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Analyze a Spotify playlist and add a song to a playlist" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Play a song from Spotify given the song name and artist" TextWrapping="Wrap" />
                                                    <TextBlock Text="• With an Azure Speech service subscription give the assistant a voice" TextWrapping="Wrap" />
                                                    <TextBlock Text="• With an Eleven Labs subscription give the assistant a voice" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Create assistants using an interface to OpenAI Assistants API" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Chats page where chat history is located" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Create prompts to use for chat" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Generate images using dalle3/dalle2" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                            <Grid x:Name="howtoGrid" Margin="0,0,0,8">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="How To Use" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid
                                            x:Name="howToExpanderContent"
                                            Width="900"
                                            HorizontalAlignment="Left">
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <Grid Grid.Row="0" HorizontalAlignment="Center">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock
                                                        IsTextSelectionEnabled="True"
                                                        Text="Request an API key from OpenAI and add it to the API key section to begin chatting with the selected model"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        IsTextSelectionEnabled="True"
                                                        Text="Follow the documentation provided by OpenAI on their models to understand how to maniuplate the request parameters to the model"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        IsTextSelectionEnabled="True"
                                                        Text="OpenAI charges per request sent to the model so every message sent is a request counted"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="Import Chat:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        IsTextSelectionEnabled="True"
                                                        Text="Import a .txt file that follows the format of an exported chat to auto fill conversations for the model. Note that you may need to adjust request parameters depending on context amount. Example format is shown below:"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock IsTextSelectionEnabled="True">
                                                        <LineBreak />
                                                        <Run>user</Run>
                                                        <LineBreak />
                                                        ----<LineBreak />
                                                        <Run>Hello</Run>
                                                        <LineBreak />
                                                        <LineBreak />
                                                        <Run>assistant</Run>
                                                        <LineBreak />
                                                        ---------<LineBreak />
                                                        <Run>How are you today?</Run>
                                                    </TextBlock>
                                                    <StackPanel Margin="0,12,0,0" Orientation="Vertical">
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            FontWeight="Bold"
                                                            IsTextSelectionEnabled="True"
                                                            Text="Speech Service:"
                                                            TextDecorations="Underline"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="Assistant Text-To-Speech"
                                                            TextDecorations="Underline"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="Enter an Azure Speech API key and service region (i.e., eastus) and set speech to enabled to give the assistant a voice"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="*Note: Best when used with streaming off, assistant will speak when the message is finished. Future update will allow the assistant to speak as the messages are coming in if that platform supports it"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="Speech-To-Text"
                                                            TextDecorations="Underline"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="- Add an audio input device to your computer and enable Speech-to-Text"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="- Click the microphone button to start recording. To stop recording and your message, select the button again which will transcribe your audio to text and send it as a message to the assistant"
                                                            TextWrapping="Wrap" />
                                                    </StackPanel>
                                                    <StackPanel Margin="0,12,0,0" Orientation="Vertical">
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            FontWeight="Bold"
                                                            IsTextSelectionEnabled="True"
                                                            Text="Function Calling:"
                                                            TextDecorations="Underline"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="Enable functions and select from the available functions to allow the assistant to know when to use them. Models response may be incorrect at times, try to retry or rephrase the prompt."
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="For Spotify functions, once you send a prompt it will open a window to authenticate. Once authenticated, if successful, the action you requested will be done."
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="• When requesting to play a song, a spotify client needs to be open / recently used on a device"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Margin="0,12,0,0"
                                                            IsTextSelectionEnabled="True"
                                                            Text="Example prompts for Spotify functions:"
                                                            TextDecorations="Underline"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Get my playlist names"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• What are my playlist names"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Get the songs from my playlist named Test"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Get the songs from my Energetic playlist"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Retrieve the songs from Awesome playlist and tell me the general mood"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Play the song Eruption by Van Halen"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Play Eruption by Van Halen"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Add Eruption by Van Halen to Awesome playlist"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Add Eruption by Van Halen to my playlist named Awesome"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            IsTextSelectionEnabled="True"
                                                            Text="• Retrieve the songs from Awesome playlist and recommend 20 similar ones that you know of"
                                                            TextWrapping="Wrap" />
                                                    </StackPanel>
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                        </StackPanel>
                        <StackPanel
                            Margin="12"
                            HorizontalAlignment="Stretch"
                            Orientation="Vertical">
                            <TextBlock FontWeight="Bold" Text="Other" />

                            <Grid
                                x:Name="aboutGrid"
                                Margin="0,8,0,8"
                                Background="#08FFFFFF"
                                CornerRadius="4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="40" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="0" Margin="4,4,0,0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="40" />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <Grid Grid.Row="0" VerticalAlignment="Center">
                                        <Image
                                            Margin="0,4,0,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Source="ms-appx:///Assets/Square44x44Logo.targetsize-256.png" />
                                    </Grid>
                                </Grid>
                                <Grid Grid.Column="1" Margin="8,8,8,8">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        FontWeight="Bold"
                                        Text="About ChatTailor AI" />
                                    <TextBlock Grid.Row="1" Text="Developed by Hunter" />
                                    <StackPanel
                                        x:Name="aboutStackPanel"
                                        Grid.Row="2"
                                        Margin="0,8,0,0"
                                        Orientation="Horizontal">
                                        <HyperlinkButton Content="Terms of Use / Privacy Policy" NavigateUri="https://www.chattailorai.com/" />
                                        <HyperlinkButton Content="Rate Us" NavigateUri="ms-windows-store://review/?ProductId=9PJRF3ZZ3KHK" />
                                        <HyperlinkButton Content="Send Feedback" NavigateUri="mailto:chattailorai@mgail.com" />
                                        <HyperlinkButton Content="Report Bug" NavigateUri="mailto:chattailorai@mgail.com" />
                                        <!--<HyperlinkButton Content="Support Developer" NavigateUri="https://paypal.me/chattailorai" />-->
                                    </StackPanel>
                                </Grid>
                                <Grid Grid.Column="2">
                                    <TextBlock
                                        Margin="12"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center">
                                        v2.2.2
                                    </TextBlock>
                                </Grid>
                            </Grid>
                            <Grid x:Name="changeLogGrid">
                                <muxc:Expander HorizontalAlignment="Stretch">
                                    <muxc:Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="15" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="1" Margin="0,12,0,12">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock FontWeight="Bold" Text="Changelog" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Header>
                                    <muxc:Expander.Content>
                                        <Grid x:Name="changesGrid" HorizontalAlignment="Left">
                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <Grid Grid.Row="0" HorizontalAlignment="Center">
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v2.2.2:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,0,0,12"
                                                        Text="• Added gpt-4o model from OpenAI"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,0,0,12"
                                                        Text="• Added gemini-1.5-flash model (Note: Rates depend on your plan with Google AI)"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,0,0,12"
                                                        Text="• Added basic support for LMStudio local models by providing a url to your localhost server"
                                                        TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v2.1.2:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Added gpt-4-tubo and gpt-4-turbo-2024-04-09 models from OpenAI" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Added gemini-1.5-pro-latest (Note: Restricted to 2 queries per minute according to Google's guidelines)" TextWrapping="Wrap" />
                                                    <TextBlock
                                                        FontWeight="Bold"
                                                        Text="  Note: Restricted to 2 queries per minute according to Google's guidelines"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• General changes, fixes" TextWrapping="Wrap" />


                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v2.1.1:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Added logs for reporting exceptions in application folder" TextWrapping="Wrap" />
                                                    <TextBlock Text="• General changes, fixes" TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v2.1.0:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Added support for claude-2 and claude-3 if you have a valid Anthropic API Key" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Added support for gemini-pro if you have a valid Google AI API Key (gemini-pro-vision support coming soon)" TextWrapping="Wrap" />
                                                    <TextBlock Text="• General changes, fixes" TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v2.0.0:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Added gpt-3.5-turbo-0125, gpt-4-0125-preview, gpt-4-turbo-preview, and gpt-4-vision-preview" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Added a Chats page for chat history, and the ability to create new chats based on a specific model, instructions, etc." TextWrapping="Wrap" />
                                                    <TextBlock Text="• Able to edit an existing chats instructions or model" TextWrapping="Wrap" />
                                                    <TextBlock Text="• GPT-4V (Vision) support, with the ability to upload photos from your PC or paste from your clipboard into a chat" TextWrapping="Wrap" />
                                                    <TextBlock Text="• An interface to create your own assistants with, using OpenAI Assistants API (other options coming soon)" TextWrapping="Wrap" />
                                                    <TextBlock Text="• A page dedicated to image generation and the ability to download those images" TextWrapping="Wrap" />
                                                    <TextBlock Text="• API Key option to use ElevenLabs as a voice provider, which includes using cloned voices from your subscription" TextWrapping="Wrap" />
                                                    <TextBlock Text="• A page dedicated to creating/storing your prompts to use for model instructions" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Other changes to support additional chat/image model providers in the future" TextWrapping="Wrap" />
                                                    <TextBlock Text="• General changes, fixes" TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v1.3.1:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Support for OpenAI's new chat model, gpt-3.5-turbo-1106, with 16,385k context" TextWrapping="Wrap" />
                                                    <TextBlock Text="• General changes" />
                                                    <TextBlock Text="• Additional changes coming soon such as vision input, JSON mode with the new 1106 models, and an interface for the assistants API!" TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v1.3.0:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Support for OpenAI's new chat model, gpt-4-1106-preview, with 128k context" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Support for OpenAI's new text-to-speech model, able to switch between openai and azure speech providers" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Support for OpenAI's new Dalle-3 image model, standard and hd image options only for the new model" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Additional changes coming soon such as vision input and an interface for the assistants API!" TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v1.2.1:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• General changes to application" TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v1.2.0:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Save your system message prompts" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Use speech-to-text with an audio input device from your computer to send a message by voice" TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,12,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v1.1.0:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Azure Speech services after inputting a valid API key and service region from a subscription" TextWrapping="Wrap" />
                                                    <TextBlock Text="• Functions beta allowing connection to spotify to analyze a playlist, add a song, or play a song" TextWrapping="Wrap" />
                                                    <TextBlock Text="• General changes" TextWrapping="Wrap" />

                                                    <TextBlock
                                                        Margin="0,16,0,0"
                                                        FontWeight="Bold"
                                                        IsTextSelectionEnabled="True"
                                                        Text="v1.0.0-1.0.6:"
                                                        TextDecorations="Underline"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock Text="• Initial release, minor updates/improvements" TextWrapping="Wrap" />
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </muxc:Expander.Content>
                                </muxc:Expander>
                            </Grid>
                        </StackPanel>
                        <StackPanel
                            x:Name="copyrightStackPanel"
                            HorizontalAlignment="Center"
                            Orientation="Vertical">
                            <TextBlock
                                HorizontalAlignment="Center"
                                Text="Copyright © ChatTailor AI"
                                TextWrapping="Wrap" />
                            <TextBlock
                                Margin="0,4,0,0"
                                HorizontalAlignment="Center"
                                Text="This is a third-party application and is not endorsed, sponsored, or affiliated with OpenAI in any way. All trademarks, service marks, and trade names referenced in this material are the property of their respective owners."
                                TextWrapping="Wrap" />
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Grid>
        </ScrollViewer>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>
                <VisualState x:Name="WideState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="720" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="apiKeyStackPanel.Orientation" Value="Horizontal" />
                        <Setter Target="azureApiKeyStackPanel.Orientation" Value="Horizontal" />
                        <Setter Target="AnthropicApiKeyStackPanel.Orientation" Value="Horizontal" />
                        <Setter Target="GoogleAIApiKeyStackPanel.Orientation" Value="Horizontal" />
                        <Setter Target="azureSeriveRegionStackPanel.Orientation" Value="Horizontal" />
                        <Setter Target="paramsStackPanel.Orientation" Value="Horizontal" />
                        <Setter Target="aboutStackPanel.Orientation" Value="Horizontal" />
                        <Setter Target="SystemMessageTextBox.Width" Value="700" />
                        <Setter Target="BasicGridView.Width" Value="700" />
                        <Setter Target="PromptTitleTextBox.Width" Value="700" />
                        <Setter Target="featuresGrid.Width" Value="700" />
                        <Setter Target="howToExpanderContent.Width" Value="700" />
                        <Setter Target="systemMessageGrid.HorizontalAlignment" Value="Stretch" />
                        <Setter Target="azureSeriveRegionStackPanel.HorizontalAlignment" Value="Center" />
                        <Setter Target="functionsListView.HorizontalAlignment" Value="Center" />
                    </VisualState.Setters>
                </VisualState>

                <VisualState x:Name="NarrowState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="400" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="apiKeyStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="azureApiKeyStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="AnthropicApiKeyStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="GoogleAIApiKeyStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="azureSeriveRegionStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="paramsStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="aboutStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="SystemMessageTextBox.Width" Value="400" />
                        <Setter Target="BasicGridView.Width" Value="400" />
                        <Setter Target="PromptTitleTextBox.Width" Value="400" />

                        <Setter Target="featuresGrid.Width" Value="400" />
                        <Setter Target="howToExpanderContent.Width" Value="400" />
                        <Setter Target="modelGrid.Width" Value="460" />
                        <Setter Target="copyrightStackPanel.Width" Value="460" />
                        <Setter Target="apiKeyGrid.Width" Value="460" />
                        <Setter Target="azureApiKeyGrid.Width" Value="460" />
                        <Setter Target="elevenLabsApiKeyGrid.Width" Value="460" />
                        <Setter Target="AnthropicApiKeyGrid.Width" Value="460" />
                        <Setter Target="GoogleAIApiKeyGrid.Width" Value="460" />
                        <Setter Target="LMStudioSettingsGrid.Width" Value="460" />
                        <Setter Target="streamRepliesGrid.Width" Value="460" />
                        <Setter Target="speechEnabledGrid.Width" Value="460" />
                        <Setter Target="speechVoiceGrid.Width" Value="460" />
                        <Setter Target="featureListGrid.Width" Value="460" />
                        <Setter Target="howtoGrid.Width" Value="460" />
                        <Setter Target="functionsEnabledGrid.Width" Value="460" />
                        <Setter Target="functionsListGrid.Width" Value="460" />
                        <Setter Target="changeLogGrid.Width" Value="460" />
                        <Setter Target="numberOfImagesGrid.Width" Value="460" />
                        <Setter Target="imageSizeGrid.Width" Value="460" />
                        <Setter Target="imageModelGrid.Width" Value="460" />
                        <Setter Target="imageQualityGrid.Width" Value="460" />
                        <Setter Target="aboutGrid.Width" Value="460" />
                        <Setter Target="paramsGrid.Width" Value="462" />
                        <Setter Target="systemMessageGrid.Width" Value="462" />
                        <Setter Target="functionsListView.Width" Value="360" />
                        <Setter Target="functionsListView.HorizontalAlignment" Value="Left" />
                        <Setter Target="speechProviderGrid.Width" Value="460" />
                        <Setter Target="speechProviderGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="speechModelsGrid.Width" Value="460" />
                        <Setter Target="speechModelsGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="speechToTextEnabledGrid.Width" Value="460" />
                        <Setter Target="speechToTextEnabledGrid.HorizontalAlignment" Value="Left" />


                        <Setter Target="systemMessageGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="azureSeriveRegionStackPanel.HorizontalAlignment" Value="Left" />
                        <Setter Target="paramsGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="modelGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="imageModelGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="imageQualityGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="apiKeyGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="azureApiKeyGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="elevenLabsApiKeyGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="AnthropicApiKeyGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="GoogleAIApiKeyGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="LMStudioSettingsGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="streamRepliesGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="numberOfImagesGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="imageSizeGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="speechEnabledGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="speechVoiceGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="functionsEnabledGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="functionsListGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="featureListGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="howtoGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="changeLogGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="aboutGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="aboutGrid.HorizontalAlignment" Value="Left" />
                    </VisualState.Setters>
                </VisualState>

                <VisualState x:Name="NarrowerState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="200" />
                        <AdaptiveTrigger MinWindowWidth="100" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="functionsListView.Width" Value="800" />
                        <Setter Target="BasicGridView.Width" Value="700" />
                        <Setter Target="PromptTitleTextBox.Width" Value="700" />
                        <Setter Target="SystemMessageTextBox.Width" Value="340" />
                        <Setter Target="PromptTitleTextBox.Width" Value="340" />
                        <Setter Target="BasicGridView.HorizontalAlignment" Value="Left" />
                        <Setter Target="PromptTitleTextBox.HorizontalAlignment" Value="Left" />
                        <Setter Target="SystemMessageTextBox.HorizontalAlignment" Value="Left" />
                    </VisualState.Setters>
                </VisualState>

                <!--<VisualState x:Name="Small">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="apiKeyStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="paramsStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="aboutStackPanel.Orientation" Value="Vertical" />
                        <Setter Target="SystemMessageTextBox.Width" Value="200" />
                        <Setter Target="featuresGrid.Width" Value="200" />
                        <Setter Target="modelGrid.Width" Value="260" />
                        <Setter Target="copyrightStackPanel.Width" Value="260" />
                        <Setter Target="apiKeyGrid.Width" Value="260" />
                        <Setter Target="streamRepliesGrid.Width" Value="260" />
                        <Setter Target="featureListGrid.Width" Value="260" />
                        <Setter Target="numberOfImagesGrid.Width" Value="260" />
                        <Setter Target="imageSizeGrid.Width" Value="260" />
                        <Setter Target="aboutGrid.Width" Value="260" />
                        <Setter Target="paramsGrid.Width" Value="262" />
                        <Setter Target="systemMessageGrid.Width" Value="462" />
                        <Setter Target="systemMessageGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="paramsGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="modelGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="apiKeyGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="streamRepliesGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="numberOfImagesGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="imageSizeGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="featureListGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="aboutGrid.HorizontalAlignment" Value="Left" />
                        <Setter Target="aboutGrid.HorizontalAlignment" Value="Left" />
                    </VisualState.Setters>
                </VisualState>-->
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Grid>


</Page>
